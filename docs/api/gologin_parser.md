# üî• GoLogin –ü–∞—Ä—Å–µ—Ä - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã **–û–±–∑–æ—Ä**

GoLogin –ø–∞—Ä—Å–µ—Ä - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è **—Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π** —Å —Å–∞–π—Ç–∞ Fragrantica.com —Å –æ–±—Ö–æ–¥–æ–º Cloudflare –∑–∞—â–∏—Ç—ã.

**–§–∞–π–ª:** `fragrantica_gologin_parser.py`

## üéØ **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- **–û–±—Ö–æ–¥ Cloudflare** —Å –ø–æ–º–æ—â—å—é GoLogin —Ç–æ–∫–µ–Ω–∞
- **–ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π** —Å –ø–æ–ª–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** –∏–∑ HTML —Å—Ç–∞—Ç–µ–π
- **–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π** —Å –ø–æ–º–æ—â—å—é Google Translator
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

#### GoLogin —Ç–æ–∫–µ–Ω:
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI2ODhmMWM3ZDMwMmNjMjU3OGRmMDJkYzEiLCJ0eXBlIjoiZGV2Iiwiand0aWQiOiI2ODhmMWQxNTMwMmNjMjU3OGRmMGQ2M2IifQ.ZqTJqaxx5AFA5-mLWiAtBa0y5sat4lL1ttNFuq93kqM
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```python
from playwright.sync_api import sync_playwright
from bs4 import BeautifulSoup
from deep_translator import GoogleTranslator
```

## üöÄ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**

### –ö–ª–∞—Å—Å `FragranticaGoLoginParser`

```python
class FragranticaGoLoginParser:
    def __init__(self):
        self.base_url = "https://www.fragrantica.com"
        self.translator = GoogleTranslator(source='en', target='ru')
        self.gologin_token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

1. **`_setup_playwright()`** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Playwright
2. **`_create_browser_context()`** - —Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ —Å GoLogin
3. **`get_page_content(url)`** - –ø–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
4. **`extract_news_from_main_page()`** - –ø–∞—Ä—Å–∏–Ω–≥ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
5. **`_get_article_content_safely(url)`** - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å—Ç–∞—Ç—å–∏
6. **`_extract_article_content(soup)`** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ HTML
7. **`translate_text(text)`** - –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
8. **`save_to_json(news_items)`** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON

## üìä **–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã**

### 1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
```python
parser = FragranticaGoLoginParser()
```

### 2. **–ü–∞—Ä—Å–∏–Ω–≥ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã**
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `https://www.fragrantica.com`
- –ü–æ–∏—Å–∫ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –±–ª–æ–∫–æ–≤ `div.fr-news-box`
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, —Å—Å—ã–ª–æ–∫, –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è

### 3. **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç–µ–π**
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∫–∞–∂–¥—É—é —Å—Ç–∞—Ç—å—é –ø–æ —Å—Å—ã–ª–∫–µ
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—å–∏
- –û—á–∏—Å—Ç–∫–∞ HTML –æ—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π

### 4. **–ü–µ—Ä–µ–≤–æ–¥**
- –ü–µ—Ä–µ–≤–æ–¥ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
- –ü–µ—Ä–µ–≤–æ–¥ –∫—Ä–∞—Ç–∫–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
- –ü–µ—Ä–µ–≤–æ–¥ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—å–∏

### 5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON —Ñ–∞–π–ª
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üéØ **–°–µ–ª–µ–∫—Ç–æ—Ä—ã –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞**

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:
```python
news_boxes = soup.find_all('div', class_='fr-news-box')
title_elem = news_box.find('h3')
link_elem = news_box.find('a')
content_elem = news_box.find(['p', 'div'])
```

### –°—Ç–∞—Ç—å–∏:
```python
content_selectors = [
    'div.article-content',
    'div.post-content',
    'div.entry-content',
    'div.content',
    'article .content',
    '.main-content',
    '.article-body',
    '.post-body',
    '.news-content',
    '.article-text',
    '.post-text',
    '.entry-content',
    '.content-area',
    '.article',
    '.post',
    '.entry'
]
```

## ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** 30-60 —Å–µ–∫—É–Ω–¥
- **–ö–∞–∂–¥–∞—è —Å—Ç–∞—Ç—å—è:** 2-3 –º–∏–Ω—É—Ç—ã
- **–ü–µ—Ä–µ–≤–æ–¥:** 10-30 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å—Ç–∞—Ç—å—é
- **–û–±—â–µ–µ –≤—Ä–µ–º—è:** 5-10 –º–∏–Ω—É—Ç –Ω–∞ 2-3 —Å—Ç–∞—Ç—å–∏

### –ü—Ä–∏—á–∏–Ω—ã –º–µ–¥–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã:
1. **–û–±—Ö–æ–¥ Cloudflare** - —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏
2. **–ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π** - –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
3. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTML
4. **–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π** - API –∑–∞–ø—Ä–æ—Å—ã

## üîß **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Flask**

### –í `app.py`:
```python
cmd = ['python3', 'fragrantica_gologin_parser.py']
```

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `POST /api/start-parser` - –∑–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞
- `GET /api/status` - —Å—Ç–∞—Ç—É—Å –ø–∞—Ä—Å–µ—Ä–∞
- `POST /api/stop-parser` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞

## üõ†Ô∏è **–û—Ç–ª–∞–¥–∫–∞**

### –õ–æ–≥–∏:
```bash
tail -f fragrantica_gologin_parser.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
```bash
python3 fragrantica_gologin_parser.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞:
```python
# –¢–æ–∫–µ–Ω –∞–∫—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
# –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```

## ‚ö†Ô∏è **–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

### üêå **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ - –≠–¢–û –ù–û–†–ú–ê–õ–¨–ù–û!**
- –ü–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã –Ω–∞ —Å—Ç–∞—Ç—å—é
- –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å –æ–±—Ö–æ–¥–æ–º Cloudflare –∏ –ø–∞—Ä—Å–∏–Ω–≥–æ–º —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –î–ª—è –±—ã—Å—Ç—Ä–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä

### üõ°Ô∏è **Cloudflare –æ–±—Ö–æ–¥:**
- GoLogin —Ç–æ–∫–µ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- –ù–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ç–æ–∫–µ–Ω
- –ó–∞—â–∏—Ç–∞ –æ–±—Ö–æ–¥–∏—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

### üìù **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
- **–†–µ–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏** —Å Fragrantica.com
- **–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç** —Å—Ç–∞—Ç–µ–π (–Ω–µ —Å—Å—ã–ª–∫–∏!)
- **–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π** –≤—Å–µ—Ö —Å—Ç–∞—Ç–µ–π
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –≤ JSON

## üéâ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

### ‚úÖ **–£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ:**
- **–ù–∞–π–¥–µ–Ω–æ –Ω–æ–≤–æ—Å—Ç–µ–π:** 33 —Ä–µ–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–∞
- **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç–∞—Ç–µ–π:** –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- **–û–±—Ö–æ–¥ Cloudflare:** –£—Å–ø–µ—à–Ω–æ
- **–ü–µ—Ä–µ–≤–æ–¥:** –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** JSON —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞—é—Ç—Å—è

### üìä **–ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:**
```json
{
  "title": "Hermes Barenia Eau de Parfum Intense",
  "title_ru": "Hermes Barenia Eau de Parfum Intense",
  "content": "–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏...",
  "content_ru": "–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–µ –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...",
  "full_content": "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏...",
  "full_content_ru": "–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç...",
  "link": "https://www.fragrantica.com/news/...",
  "date": "2025-08-03 15:55:19"
}
```

## üöÄ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**

### –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
1. **–î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä (–±—ã—Å—Ç—Ä–æ)
2. **–î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GoLogin –ø–∞—Ä—Å–µ—Ä (–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ)
3. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** GoLogin –ø–∞—Ä—Å–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –î–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
3. **–£–ª—É—á—à–µ–Ω–∏–µ UI** - –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç–∞—Ç–µ–π
4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞** - –ø–∞—Ä—Å–∏–Ω–≥ –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ —Å–∞–π—Ç–∞

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 3 –∞–≤–≥—É—Å—Ç–∞ 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢  
**–í–µ—Ä—Å–∏—è:** 1.0 