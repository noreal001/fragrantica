#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Тестовый парсер для проверки функционала
"""

import json
import time
from datetime import datetime
from deep_translator import GoogleTranslator

def create_test_news():
    """Создание тестовых новостей с полным текстом статей"""
    test_news = [
        {
            "title": "Новый аромат от Dior: Miss Dior Blooming Bouquet 2024",
            "title_ru": "Новый аромат от Dior: Miss Dior Blooming Bouquet 2024",
            "content": "Dior представляет обновленную версию культового аромата Miss Dior Blooming Bouquet. Новый состав включает в себя свежие ноты пиона, розы и белого мускуса, создавая нежный и романтичный букет.",
            "content_ru": "Dior представляет обновленную версию культового аромата Miss Dior Blooming Bouquet. Новый состав включает в себя свежие ноты пиона, розы и белого мускуса, создавая нежный и романтичный букет.",
            "full_content": """Dior представляет обновленную версию культового аромата Miss Dior Blooming Bouquet, которая выйдет в свет в марте 2024 года. Этот новый состав является результатом многолетней работы парфюмеров дома Dior и представляет собой современную интерпретацию классического аромата.

Новый Miss Dior Blooming Bouquet 2024 открывается свежими нотами пиона и розы, которые создают нежный и романтичный букет. В сердце аромата раскрываются ноты белого мускуса и ванили, добавляя глубину и теплоту композиции. База аромата включает в себя сандаловое дерево и амбра, что обеспечивает стойкость и элегантность.

Флакон аромата сохраняет классический дизайн с бантом, но получил обновленные детали в виде более изящного силуэта и новых цветовых решений. Аромат будет доступен в концентрации Eau de Parfum и поступит в продажу в бутиках Dior по всему миру.

По словам креативного директора Dior, новый Miss Dior Blooming Bouquet отражает современное видение женственности и элегантности, сохраняя при этом дух и традиции дома Dior. Аромат создан для уверенных в себе женщин, которые ценят качество и утонченность.""",
            "full_content_ru": """Dior представляет обновленную версию культового аромата Miss Dior Blooming Bouquet, которая выйдет в свет в марте 2024 года. Этот новый состав является результатом многолетней работы парфюмеров дома Dior и представляет собой современную интерпретацию классического аромата.

Новый Miss Dior Blooming Bouquet 2024 открывается свежими нотами пиона и розы, которые создают нежный и романтичный букет. В сердце аромата раскрываются ноты белого мускуса и ванили, добавляя глубину и теплоту композиции. База аромата включает в себя сандаловое дерево и амбра, что обеспечивает стойкость и элегантность.

Флакон аромата сохраняет классический дизайн с бантом, но получил обновленные детали в виде более изящного силуэта и новых цветовых решений. Аромат будет доступен в концентрации Eau de Parfum и поступит в продажу в бутиках Dior по всему миру.

По словам креативного директора Dior, новый Miss Dior Blooming Bouquet отражает современное видение женственности и элегантности, сохраняя при этом дух и традиции дома Dior. Аромат создан для уверенных в себе женщин, которые ценят качество и утонченность.""",
            "date": datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        },
        {
            "title": "Chanel выпускает новый мужской аромат: Bleu de Chanel Parfum",
            "title_ru": "Chanel выпускает новый мужской аромат: Bleu de Chanel Parfum",
            "content": "Дом Chanel анонсировал выпуск новой концентрации культового мужского аромата Bleu de Chanel в версии Parfum. Новый состав отличается повышенной стойкостью и более глубокими нотами.",
            "content_ru": "Дом Chanel анонсировал выпуск новой концентрации культового мужского аромата Bleu de Chanel в версии Parfum. Новый состав отличается повышенной стойкостью и более глубокими нотами.",
            "full_content": """Дом Chanel анонсировал выпуск новой концентрации культового мужского аромата Bleu de Chanel в версии Parfum, которая поступит в продажу в апреле 2024 года. Это событие стало настоящей сенсацией в мире парфюмерии, так как оригинальный Bleu de Chanel уже более десяти лет остается одним из самых популярных мужских ароматов.

Новая версия Parfum отличается повышенной концентрацией парфюмерных масел (до 20%), что обеспечивает исключительную стойкость аромата на коже. Композиция открывается свежими нотами цитрусовых и мяты, которые создают освежающий эффект. В сердце аромата раскрываются пряные ноты кардамона и розового перца, добавляя характер и глубину.

База аромата включает в себя сандаловое дерево, ветивер и амбра, создавая теплую и чувственную финальную ноту. Флакон сохраняет классический дизайн с геометрическими линиями, но получил обновленную крышку с более премиальным покрытием.

По словам парфюмера Оливье Полжа, создателя аромата, Bleu de Chanel Parfum представляет собой эволюцию оригинального аромата, сохраняя его узнаваемый характер, но добавляя новые грани и глубину. Аромат создан для современных мужчин, которые ценят качество и утонченность.

Новый Bleu de Chanel Parfum будет доступен в бутиках Chanel и избранных парфюмерных магазинах по всему миру. Ожидается, что аромат станет одним из самых востребованных мужских ароматов 2024 года.""",
            "full_content_ru": """Дом Chanel анонсировал выпуск новой концентрации культового мужского аромата Bleu de Chanel в версии Parfum, которая поступит в продажу в апреле 2024 года. Это событие стало настоящей сенсацией в мире парфюмерии, так как оригинальный Bleu de Chanel уже более десяти лет остается одним из самых популярных мужских ароматов.

Новая версия Parfum отличается повышенной концентрацией парфюмерных масел (до 20%), что обеспечивает исключительную стойкость аромата на коже. Композиция открывается свежими нотами цитрусовых и мяты, которые создают освежающий эффект. В сердце аромата раскрываются пряные ноты кардамона и розового перца, добавляя характер и глубину.

База аромата включает в себя сандаловое дерево, ветивер и амбра, создавая теплую и чувственную финальную ноту. Флакон сохраняет классический дизайн с геометрическими линиями, но получил обновленную крышку с более премиальным покрытием.

По словам парфюмера Оливье Полжа, создателя аромата, Bleu de Chanel Parfum представляет собой эволюцию оригинального аромата, сохраняя его узнаваемый характер, но добавляя новые грани и глубину. Аромат создан для современных мужчин, которые ценят качество и утонченность.

Новый Bleu de Chanel Parfum будет доступен в бутиках Chanel и избранных парфюмерных магазинах по всему миру. Ожидается, что аромат станет одним из самых востребованных мужских ароматов 2024 года.""",
            "date": datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        },
        {
            "title": "Tom Ford представляет новую коллекцию Private Blend: Desert Spice",
            "title_ru": "Tom Ford представляет новую коллекцию Private Blend: Desert Spice",
            "content": "Tom Ford анонсировал выпуск нового аромата из коллекции Private Blend под названием Desert Spice. Аромат вдохновлен экзотическими специями Ближнего Востока.",
            "content_ru": "Tom Ford анонсировал выпуск нового аромата из коллекции Private Blend под названием Desert Spice. Аромат вдохновлен экзотическими специями Ближнего Востока.",
            "full_content": """Tom Ford анонсировал выпуск нового аромата из эксклюзивной коллекции Private Blend под названием Desert Spice, который поступит в продажу в мае 2024 года. Этот аромат представляет собой уникальную интерпретацию восточных мотивов и является результатом многолетней работы парфюмеров дома Tom Ford.

Desert Spice открывается экзотическими нотами шафрана, кардамона и черного перца, создавая интенсивный и пряный эффект. В сердце аромата раскрываются теплые ноты корицы, гвоздики и мускатного ореха, которые создают ощущение роскоши и изысканности. База аромата включает в себя сандаловое дерево, пачули и амбра, обеспечивая исключительную стойкость и глубину.

Аромат вдохновлен экзотическими специями Ближнего Востока и традициями восточной парфюмерии. По словам Тома Форда, Desert Spice создан для тех, кто ищет нечто особенное и уникальное в мире парфюмерии. Аромат отражает его видение современной роскоши и утонченности.

Флакон аромата выполнен в классическом стиле коллекции Private Blend с черным стеклом и золотыми деталями. Концентрация аромата составляет Eau de Parfum, что обеспечивает оптимальный баланс между стойкостью и элегантностью.

Desert Spice будет доступен в эксклюзивных бутиках Tom Ford и избранных парфюмерных магазинах по всему миру. Ожидается, что аромат станет одним из самых обсуждаемых новинок 2024 года в мире нишевой парфюмерии.""",
            "full_content_ru": """Tom Ford анонсировал выпуск нового аромата из эксклюзивной коллекции Private Blend под названием Desert Spice, который поступит в продажу в мае 2024 года. Этот аромат представляет собой уникальную интерпретацию восточных мотивов и является результат многолетней работы парфюмеров дома Tom Ford.

Desert Spice открывается экзотическими нотами шафрана, кардамона и черного перца, создавая интенсивный и пряный эффект. В сердце аромата раскрываются теплые ноты корицы, гвоздики и мускатного ореха, которые создают ощущение роскоши и изысканности. База аромата включает в себя сандаловое дерево, пачули и амбра, обеспечивая исключительную стойкость и глубину.

Аромат вдохновлен экзотическими специями Ближнего Востока и традициями восточной парфюмерии. По словам Тома Форда, Desert Spice создан для тех, кто ищет нечто особенное и уникальное в мире парфюмерии. Аромат отражает его видение современной роскоши и утонченности.

Флакон аромата выполнен в классическом стиле коллекции Private Blend с черным стеклом и золотыми деталями. Концентрация аромата составляет Eau de Parfum, что обеспечивает оптимальный баланс между стойкостью и элегантностью.

Desert Spice будет доступен в эксклюзивных бутиках Tom Ford и избранных парфюмерных магазинах по всему миру. Ожидается, что аромат станет одним из самых обсуждаемых новинок 2024 года в мире нишевой парфюмерии.""",
            "date": datetime.now().strftime("%Y-%m-%d %H:%M:%S")
        }
    ]
    return test_news

def main():
    """Основная функция тестового парсера"""
    print("🧪 Запуск тестового парсера...")
    
    # Создаем тестовые новости
    news_items = create_test_news()
    
    # Сохраняем в JSON
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    filename = f"fragrantica_simple_news_{timestamp}.json"
    
    with open(filename, 'w', encoding='utf-8') as f:
        json.dump(news_items, f, ensure_ascii=False, indent=2)
    
    print(f"✅ Тестовые новости сохранены в файл: {filename}")
    print(f"📊 Найдено новостей: {len(news_items)}")
    print("📝 Созданы полные статьи с текстом (без ссылок)")
    
    return filename

if __name__ == "__main__":
    main() 